<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PDF Viewer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div id="sidebar"></div>

  <div id="main">
    <div id="toolbar" onmousedown="event.stopPropagation()">
      <input type="file" id="file-input" accept="application/pdf" />

      <!-- DOCUMENT_DETAILS (keep swatches + inputs) -->
      <div class="field-group">
        <div class="field-row" data-field-row="prepared_by">
          <span class="swatch" data-swatch="prepared_by"></span>
          <label for="prepared-by">Prepared by</label>
          <input id="prepared-by" placeholder="Prepared by" />
        </div>

        <div class="field-row" data-field-row="project_id">
          <span class="swatch" data-swatch="project_id"></span>
          <label for="project-id">Project ID</label>
          <input id="project-id" placeholder="Project ID" />
        </div>
      </div>

      <!-- REGION TYPES DRAWING SELECTOR -->
      <div class="field-row compact">
        <label for="region-type">Draw type</label>
        <span class="swatch" id="draw-type-swatch" data-swatch="prepared_by"></span>
        <select id="region-type"></select>
      </div>

      <!-- ONE Extract button -->
      <button type="button" id="extract-all" onclick="extractAll()">Extract</button>

      <!-- Export buttons (keep) -->
      <button type="button" onclick="downloadJSON()">Export JSON</button>
      <button type="button" onclick="downloadCSV()">Export CSV</button>

      <!-- Spacer pushes zoom/page to the right -->
      <div class="toolbar-spacer"></div>

      <div class="toolbar-right">
        <span id="page-indicator">Page – / –</span>
        <button id="zoom-out" type="button">−</button>
        <button id="zoom-in" type="button">+</button>
      </div>
    </div>

    <div id="viewer">
      <div id="pdf-scroll">
        <div id="pdf-container">
          <svg id="overlay"></svg>
          <canvas id="pdf-canvas"></canvas>
        </div>
      </div>
    </div>

  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script src="https://unpkg.com/tesseract.js@5.0.4/dist/tesseract.min.js"></script>
  <script src="pdf_viewer.js"></script>
</body>
</html>